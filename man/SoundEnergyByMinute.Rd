% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/SoundEnergyByMinute.R
\name{SoundEnergyByMinute}
\alias{SoundEnergyByMinute}
\title{Compute minute-scale background sound energy from FLAC recordings using Python}
\usage{
SoundEnergyByMinute(
  manifest,
  flac_files,
  output_dir,
  start_filter = "0500",
  y_limits = c(2.3, 4),
  max_minutes = 180,
  parallel = FALSE
)
}
\arguments{
\item{manifest}{A data frame containing at least:
\itemize{
  \item \code{path} — relative path to FLAC directory;
  \item \code{file} — primary FLAC file name;
  \item \code{subsequent.file1}, \code{subsequent.file2} — optional FLAC files;
  \item \code{area}, \code{year}, \code{group}, \code{date.mmdd};
  \item \code{plot}, \code{startTime.hhmm}.
}}

\item{flac_files}{Root directory containing FLAC files.}

\item{output_dir}{Directory where JPEGs and CSVs will be written.}

\item{start_filter}{Only rows with \code{startTime.hhmm == start_filter}
are processed. Default: \code{"0500"}.}

\item{y_limits}{Numeric vector of length 2 giving y-axis limits for plots.}

\item{max_minutes}{Maximum number of minutes to analyze per file set.}

\item{parallel}{Logical; if \code{TRUE}, rows are processed in parallel using
\pkg{future.apply}. You must have a plan set (e.g., \code{future::plan()}).}
}
\value{
Invisibly returns a data frame with columns:
  \code{area, year, group, date, plot, startTime.hhmm, minute, log10RMSE, movAvg11}.

  Side effects:
  \itemize{
    \item JPEG plots written to \code{file.path(output_dir, "noise_jpg_all")}.
    \item group–year CSVs written to \code{output_dir}.
  }
}
\description{
This function reads a sound file manifest in which each row contains paths to one to
three sequential FLAC audio files from the same recorder and day. It uses
Python's \pkg{soundfile} library via \pkg{reticulate} to extract audio samples
directly from FLAC files.
}
\details{
It can run sequentially or in parallel (via \pkg{future.apply}) and includes
basic error handling for unreadable or corrupted FLAC files.
}
